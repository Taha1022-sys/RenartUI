{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'https://localhost:7133/api',\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\napi.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`üîÑ API Request: ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  console.error('‚ùå API Request Error:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  console.log(`‚úÖ API Response: ${response.status} ${response.config.url}`);\n  return response;\n}, error => {\n  var _error$response;\n  console.error('‚ùå API Response Error:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, error.message);\n  return Promise.reject(error);\n});\nconst applyFilters = (products, filters) => {\n  return products.filter(product => {\n    if (filters.minPrice && product.price < parseFloat(filters.minPrice)) return false;\n    if (filters.maxPrice && product.price > parseFloat(filters.maxPrice)) return false;\n    if (filters.minPopularity && (product.rating || product.popularity) < parseFloat(filters.minPopularity)) return false;\n    return true;\n  });\n};\nexport const productService = {\n  getAllProducts: async () => {\n    try {\n      var _response$data;\n      const response = await api.get('/products');\n      console.log('üì¶ Received products from API:', ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) || 0, 'items');\n      const colorOptions = [{\n        name: 'Yellow Gold',\n        value: '#E6CA97'\n      }, {\n        name: 'Rose Gold',\n        value: '#E1A4A9'\n      }, {\n        name: 'White Gold',\n        value: '#D9D9D9'\n      }];\n      const products = (response.data || []).map(product => {\n        var _product$images, _product$images2, _product$images3, _ref, _product$popularityRa;\n        return {\n          ...product,\n          images: [(_product$images = product.images) === null || _product$images === void 0 ? void 0 : _product$images.yellow, (_product$images2 = product.images) === null || _product$images2 === void 0 ? void 0 : _product$images2.rose, (_product$images3 = product.images) === null || _product$images3 === void 0 ? void 0 : _product$images3.white],\n          colors: colorOptions,\n          rating: (_ref = (_product$popularityRa = product.popularityRating) !== null && _product$popularityRa !== void 0 ? _product$popularityRa : product.rating) !== null && _ref !== void 0 ? _ref : 4.5\n        };\n      });\n      return products;\n    } catch (error) {\n      console.error('‚ùå Failed to fetch products from API:', error.message);\n      throw new Error(`Failed to fetch products: ${error.message}`);\n    }\n  },\n  getProductsByFilters: async filters => {\n    try {\n      var _response$data2;\n      const params = new URLSearchParams();\n      if (filters.minPrice) params.append('minPrice', filters.minPrice);\n      if (filters.maxPrice) params.append('maxPrice', filters.maxPrice);\n      if (filters.minPopularity) params.append('minPopularity', filters.minPopularity);\n      const queryString = params.toString();\n      const url = queryString ? `/products?${queryString}` : '/products';\n      console.log('üîç Fetching filtered products with params:', Object.fromEntries(params));\n      const response = await api.get(url);\n      console.log('üì¶ Received filtered products from API:', ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.length) || 0, 'items');\n      const colorOptions = [{\n        name: 'Yellow Gold',\n        value: '#E6CA97'\n      }, {\n        name: 'Rose Gold',\n        value: '#E1A4A9'\n      }, {\n        name: 'White Gold',\n        value: '#D9D9D9'\n      }];\n      const products = (response.data || []).map(product => {\n        var _product$images4, _product$images5, _product$images6, _ref2, _product$popularityRa2;\n        return {\n          ...product,\n          images: [(_product$images4 = product.images) === null || _product$images4 === void 0 ? void 0 : _product$images4.yellow, (_product$images5 = product.images) === null || _product$images5 === void 0 ? void 0 : _product$images5.rose, (_product$images6 = product.images) === null || _product$images6 === void 0 ? void 0 : _product$images6.white],\n          colors: colorOptions,\n          rating: (_ref2 = (_product$popularityRa2 = product.popularityRating) !== null && _product$popularityRa2 !== void 0 ? _product$popularityRa2 : product.rating) !== null && _ref2 !== void 0 ? _ref2 : 4.5\n        };\n      });\n      return products;\n    } catch (error) {\n      console.error('‚ùå Failed to fetch filtered products from API:', error.message);\n      throw new Error(`Failed to fetch filtered products: ${error.message}`);\n    }\n  }\n};\nexport { api };\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","message","applyFilters","products","filters","filter","product","minPrice","price","parseFloat","maxPrice","minPopularity","rating","popularity","productService","getAllProducts","_response$data","get","data","length","colorOptions","name","value","map","_product$images","_product$images2","_product$images3","_ref","_product$popularityRa","images","yellow","rose","white","colors","popularityRating","Error","getProductsByFilters","_response$data2","params","URLSearchParams","append","queryString","toString","Object","fromEntries","_product$images4","_product$images5","_product$images6","_ref2","_product$popularityRa2"],"sources":["C:/Users/Tahaf/Desktop/Renart/renartuƒ±/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'https://localhost:7133/api',\r\n  timeout: 15000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json'\r\n  }\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`üîÑ API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('‚ùå API Request Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`‚úÖ API Response: ${response.status} ${response.config.url}`);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('‚ùå API Response Error:', error.response?.status, error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst applyFilters = (products, filters) => {\r\n  return products.filter(product => {\r\n    if (filters.minPrice && product.price < parseFloat(filters.minPrice)) return false;\r\n    if (filters.maxPrice && product.price > parseFloat(filters.maxPrice)) return false;\r\n    if (filters.minPopularity && (product.rating || product.popularity) < parseFloat(filters.minPopularity)) return false;\r\n    return true;\r\n  });\r\n};\r\n\r\nexport const productService = {\r\n  getAllProducts: async () => {\r\n    try {\r\n      const response = await api.get('/products');\r\n      console.log('üì¶ Received products from API:', response.data?.length || 0, 'items');\r\n      const colorOptions = [\r\n        { name: 'Yellow Gold', value: '#E6CA97' },\r\n        { name: 'Rose Gold', value: '#E1A4A9' },\r\n        { name: 'White Gold', value: '#D9D9D9' }\r\n      ];\r\n      const products = (response.data || []).map(product => ({\r\n        ...product,\r\n        images: [product.images?.yellow, product.images?.rose, product.images?.white],\r\n        colors: colorOptions,\r\n        rating: product.popularityRating ?? product.rating ?? 4.5\r\n      }));\r\n      return products;\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to fetch products from API:', error.message);\r\n      throw new Error(`Failed to fetch products: ${error.message}`);\r\n    }\r\n  },\r\n\r\n  getProductsByFilters: async (filters) => {\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.minPrice) params.append('minPrice', filters.minPrice);\r\n      if (filters.maxPrice) params.append('maxPrice', filters.maxPrice);\r\n      if (filters.minPopularity) params.append('minPopularity', filters.minPopularity);\r\n      const queryString = params.toString();\r\n      const url = queryString ? `/products?${queryString}` : '/products';\r\n      console.log('üîç Fetching filtered products with params:', Object.fromEntries(params));\r\n      const response = await api.get(url);\r\n      console.log('üì¶ Received filtered products from API:', response.data?.length || 0, 'items');\r\n      const colorOptions = [\r\n        { name: 'Yellow Gold', value: '#E6CA97' },\r\n        { name: 'Rose Gold', value: '#E1A4A9' },\r\n        { name: 'White Gold', value: '#D9D9D9' }\r\n      ];\r\n      const products = (response.data || []).map(product => ({\r\n        ...product,\r\n        images: [product.images?.yellow, product.images?.rose, product.images?.white],\r\n        colors: colorOptions,\r\n        rating: product.popularityRating ?? product.rating ?? 4.5\r\n      }));\r\n      return products;\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to fetch filtered products from API:', error.message);\r\n      throw new Error(`Failed to fetch filtered products: ${error.message}`);\r\n    }\r\n  },\r\n\r\n\r\n};\r\n\r\nexport { api };\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}